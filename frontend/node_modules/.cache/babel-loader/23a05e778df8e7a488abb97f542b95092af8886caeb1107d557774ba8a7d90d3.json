{"ast":null,"code":"var _jsxFileName = \"D:\\\\HK3-N2\\\\ANTOANHETHONGWEB\\\\BT5\\\\frontend\\\\src\\\\pages\\\\BookManagementPage.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\n\n// Component Form Sách với Category dạng Textbox\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction BookForm({\n  book,\n  categories = [],\n  onSubmit,\n  onCancel,\n  loading,\n  error: submissionError\n}) {\n  _s();\n  // State cho dữ liệu form, dùng category_name thay vì category_id\n  const [formData, setFormData] = useState({\n    title: '',\n    author: '',\n    isbn: '',\n    publish_year: '',\n    publisher: '',\n    category_name: '',\n    // <<< Sử dụng tên category trong state của form\n    description: '',\n    quantity: 0,\n    price: 0.00\n  });\n  // State riêng cho lỗi validation của form này\n  const [formValidationError, setFormValidationError] = useState('');\n\n  // Cập nhật form data khi 'book' hoặc 'categories' prop thay đổi (để edit)\n  useEffect(() => {\n    setFormValidationError(''); // Xóa lỗi cũ khi book/categories thay đổi\n    if (book && categories.length > 0) {\n      var _book$quantity, _book$price;\n      // Tìm tên category dựa trên book.category_id\n      const category = categories.find(cat => cat.id === book.category_id);\n      setFormData({\n        title: book.title || '',\n        author: book.author || '',\n        isbn: book.isbn || '',\n        publish_year: book.publish_year || '',\n        publisher: book.publisher || '',\n        category_name: category ? category.name : '',\n        // <<< Đặt tên category nếu tìm thấy\n        description: book.description || '',\n        quantity: (_book$quantity = book.quantity) !== null && _book$quantity !== void 0 ? _book$quantity : 0,\n        // Sử dụng ?? để xử lý null/undefined\n        price: (_book$price = book.price) !== null && _book$price !== void 0 ? _book$price : 0.00\n      });\n    } else if (!book) {\n      // Reset form về trống nếu không có 'book' (chế độ tạo mới)\n      setFormData({\n        title: '',\n        author: '',\n        isbn: '',\n        publish_year: '',\n        publisher: '',\n        category_name: '',\n        description: '',\n        quantity: 0,\n        price: 0.00\n      });\n    }\n    // Nếu book có nhưng categories chưa load xong, form sẽ tạm thiếu category_name,\n    // nhưng khi categories load xong, useEffect sẽ chạy lại và cập nhật.\n  }, [book, categories]); // Phụ thuộc vào book và categories\n\n  // Hàm xử lý khi input thay đổi\n  const handleChange = e => {\n    const {\n      name,\n      value,\n      type\n    } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      // Xử lý cho kiểu number, giữ lại '' nếu người dùng xóa hết số\n      [name]: type === 'number' ? value === '' ? '' : Number(value) : value\n    }));\n    // Xóa lỗi validation khi người dùng bắt đầu sửa\n    if (formValidationError) {\n      setFormValidationError('');\n    }\n  };\n\n  // Hàm xử lý khi submit form\n  const handleSubmit = e => {\n    e.preventDefault();\n    setFormValidationError(''); // Xóa lỗi cũ\n\n    // --- Validation Cơ bản ---\n    if (!formData.title || !formData.category_name || formData.quantity === '' || formData.price === '') {\n      setFormValidationError('Please fill in Title, Category Name, Quantity, and Price.');\n      return;\n    }\n    if (isNaN(formData.quantity) || formData.quantity < 0) {\n      setFormValidationError('Quantity must be a non-negative number.');\n      return;\n    }\n    if (isNaN(formData.price) || formData.price < 0) {\n      setFormValidationError('Price must be a non-negative number.');\n      return;\n    }\n\n    // --- Tìm Category ID từ Tên Category ---\n    const categoryNameInput = formData.category_name.trim();\n    // Tìm kiếm không phân biệt hoa thường\n    const foundCategory = categories.find(cat => cat.name.toLowerCase() === categoryNameInput.toLowerCase());\n    if (!foundCategory) {\n      setFormValidationError(`Category \"${categoryNameInput}\" not found. Please enter an existing category name or create it first.`);\n      return; // Dừng submit nếu không tìm thấy category\n    }\n    const categoryId = foundCategory.id; // Lấy ID từ category tìm được\n\n    // --- Chuẩn bị Payload để gửi đi ---\n    // Tạo object mới chỉ chứa các trường cần thiết cho API, sử dụng categoryId\n    const payload = {\n      title: formData.title,\n      author: formData.author || null,\n      // Gửi null nếu rỗng\n      isbn: formData.isbn || null,\n      publish_year: formData.publish_year ? Number(formData.publish_year) : null,\n      // Đảm bảo là số hoặc null\n      publisher: formData.publisher || null,\n      category_id: categoryId,\n      // <<< Gửi ID đã tìm được\n      description: formData.description || null,\n      quantity: Number(formData.quantity),\n      // Đảm bảo là số\n      price: Number(formData.price) // Đảm bảo là số\n    };\n    console.log('BookForm Submitting Payload:', payload); // Debug payload gửi đi\n    onSubmit(payload); // Gọi hàm submit của component cha với payload đã chuẩn bị\n  };\n  return (\n    /*#__PURE__*/\n    // onSubmit được gắn vào form, error hiển thị lỗi từ props (lỗi submit API)\n    _jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      style: {\n        marginBottom: '20px',\n        padding: '15px',\n        border: '1px solid #eee',\n        borderRadius: '5px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: book ? 'Edit Book' : 'Add New Book'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 13\n      }, this), formValidationError && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"error-message\",\n        children: formValidationError\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 37\n      }, this), submissionError && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"error-message\",\n        children: submissionError\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 33\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'grid',\n          gridTemplateColumns: 'repeat(auto-fit, minmax(200px, 1fr))',\n          gap: '10px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Title:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"title\",\n            value: formData.title,\n            onChange: handleChange,\n            required: true,\n            disabled: loading\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Author:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"author\",\n            value: formData.author,\n            onChange: handleChange,\n            disabled: loading\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Category Name:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 130,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"category_name\" // <<< name là category_name\n            ,\n            value: formData.category_name // <<< value là category_name\n            ,\n            onChange: handleChange,\n            required: true,\n            disabled: loading,\n            placeholder: \"Enter existing category name\",\n            list: \"category-suggestions\" // <<< Liên kết với datalist\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"datalist\", {\n            id: \"category-suggestions\",\n            children: categories.map(cat => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: cat.name\n            }, cat.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 144,\n              columnNumber: 29\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 142,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n            style: {\n              display: 'block',\n              marginTop: '3px',\n              color: '#555'\n            },\n            children: \"(Type to search, must match existing)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 22\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Quantity:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            name: \"quantity\",\n            value: formData.quantity,\n            onChange: handleChange,\n            required: true,\n            min: \"0\",\n            step: \"1\",\n            disabled: loading\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 154,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 18\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Price:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            name: \"price\",\n            value: formData.price,\n            onChange: handleChange,\n            required: true,\n            min: \"0\",\n            step: \"0.01\",\n            disabled: loading\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 158,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 18\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"ISBN:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 161,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"isbn\",\n            value: formData.isbn,\n            onChange: handleChange,\n            disabled: loading\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 162,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 18\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Publish Year:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 165,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            name: \"publish_year\",\n            value: formData.publish_year,\n            onChange: handleChange,\n            placeholder: \"YYYY\",\n            disabled: loading\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 166,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Publisher:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 169,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"publisher\",\n            value: formData.publisher,\n            onChange: handleChange,\n            disabled: loading\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 18\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            gridColumn: '1 / -1'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Description:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 173,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            name: \"description\",\n            value: formData.description,\n            onChange: handleChange,\n            rows: \"3\",\n            disabled: loading\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 174,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginTop: '15px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          disabled: loading,\n          children: loading ? 'Saving...' : book ? 'Update Book' : 'Add Book'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 17\n        }, this), book && /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          className: \"secondary\",\n          onClick: onCancel,\n          disabled: loading,\n          style: {\n            marginLeft: '10px'\n          },\n          children: \"Cancel Edit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 26\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 9\n    }, this)\n  );\n}\n_s(BookForm, \"DdZDiAjEPAtrqEOU2OkzmRFNz60=\");\n_c = BookForm;\nexport default BookForm;\nvar _c;\n$RefreshReg$(_c, \"BookForm\");","map":{"version":3,"names":["React","useState","useEffect","jsxDEV","_jsxDEV","BookForm","book","categories","onSubmit","onCancel","loading","error","submissionError","_s","formData","setFormData","title","author","isbn","publish_year","publisher","category_name","description","quantity","price","formValidationError","setFormValidationError","length","_book$quantity","_book$price","category","find","cat","id","category_id","name","handleChange","e","value","type","target","prev","Number","handleSubmit","preventDefault","isNaN","categoryNameInput","trim","foundCategory","toLowerCase","categoryId","payload","console","log","style","marginBottom","padding","border","borderRadius","children","fileName","_jsxFileName","lineNumber","columnNumber","className","display","gridTemplateColumns","gap","onChange","required","disabled","placeholder","list","map","marginTop","color","min","step","gridColumn","rows","onClick","marginLeft","_c","$RefreshReg$"],"sources":["D:/HK3-N2/ANTOANHETHONGWEB/BT5/frontend/src/pages/BookManagementPage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\n\r\n// Component Form Sách với Category dạng Textbox\r\nfunction BookForm({ book, categories = [], onSubmit, onCancel, loading, error: submissionError }) {\r\n    // State cho dữ liệu form, dùng category_name thay vì category_id\r\n    const [formData, setFormData] = useState({\r\n        title: '',\r\n        author: '',\r\n        isbn: '',\r\n        publish_year: '',\r\n        publisher: '',\r\n        category_name: '', // <<< Sử dụng tên category trong state của form\r\n        description: '',\r\n        quantity: 0,\r\n        price: 0.00,\r\n    });\r\n    // State riêng cho lỗi validation của form này\r\n    const [formValidationError, setFormValidationError] = useState('');\r\n\r\n    // Cập nhật form data khi 'book' hoặc 'categories' prop thay đổi (để edit)\r\n    useEffect(() => {\r\n        setFormValidationError(''); // Xóa lỗi cũ khi book/categories thay đổi\r\n        if (book && categories.length > 0) {\r\n            // Tìm tên category dựa trên book.category_id\r\n            const category = categories.find(cat => cat.id === book.category_id);\r\n            setFormData({\r\n                title: book.title || '',\r\n                author: book.author || '',\r\n                isbn: book.isbn || '',\r\n                publish_year: book.publish_year || '',\r\n                publisher: book.publisher || '',\r\n                category_name: category ? category.name : '', // <<< Đặt tên category nếu tìm thấy\r\n                description: book.description || '',\r\n                quantity: book.quantity ?? 0, // Sử dụng ?? để xử lý null/undefined\r\n                price: book.price ?? 0.00,\r\n            });\r\n        } else if (!book) {\r\n            // Reset form về trống nếu không có 'book' (chế độ tạo mới)\r\n             setFormData({ title: '', author: '', isbn: '', publish_year: '', publisher: '', category_name: '', description: '', quantity: 0, price: 0.00 });\r\n        }\r\n        // Nếu book có nhưng categories chưa load xong, form sẽ tạm thiếu category_name,\r\n        // nhưng khi categories load xong, useEffect sẽ chạy lại và cập nhật.\r\n\r\n    }, [book, categories]); // Phụ thuộc vào book và categories\r\n\r\n    // Hàm xử lý khi input thay đổi\r\n    const handleChange = (e) => {\r\n        const { name, value, type } = e.target;\r\n        setFormData(prev => ({\r\n            ...prev,\r\n            // Xử lý cho kiểu number, giữ lại '' nếu người dùng xóa hết số\r\n            [name]: type === 'number' ? (value === '' ? '' : Number(value)) : value\r\n        }));\r\n        // Xóa lỗi validation khi người dùng bắt đầu sửa\r\n        if (formValidationError) {\r\n            setFormValidationError('');\r\n        }\r\n    };\r\n\r\n    // Hàm xử lý khi submit form\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        setFormValidationError(''); // Xóa lỗi cũ\r\n\r\n        // --- Validation Cơ bản ---\r\n        if (!formData.title || !formData.category_name || formData.quantity === '' || formData.price === '') {\r\n            setFormValidationError('Please fill in Title, Category Name, Quantity, and Price.');\r\n            return;\r\n        }\r\n         if (isNaN(formData.quantity) || formData.quantity < 0) {\r\n             setFormValidationError('Quantity must be a non-negative number.');\r\n             return;\r\n         }\r\n          if (isNaN(formData.price) || formData.price < 0) {\r\n             setFormValidationError('Price must be a non-negative number.');\r\n             return;\r\n         }\r\n\r\n        // --- Tìm Category ID từ Tên Category ---\r\n        const categoryNameInput = formData.category_name.trim();\r\n        // Tìm kiếm không phân biệt hoa thường\r\n        const foundCategory = categories.find(cat => cat.name.toLowerCase() === categoryNameInput.toLowerCase());\r\n\r\n        if (!foundCategory) {\r\n            setFormValidationError(`Category \"${categoryNameInput}\" not found. Please enter an existing category name or create it first.`);\r\n            return; // Dừng submit nếu không tìm thấy category\r\n        }\r\n\r\n        const categoryId = foundCategory.id; // Lấy ID từ category tìm được\r\n\r\n        // --- Chuẩn bị Payload để gửi đi ---\r\n        // Tạo object mới chỉ chứa các trường cần thiết cho API, sử dụng categoryId\r\n        const payload = {\r\n            title: formData.title,\r\n            author: formData.author || null, // Gửi null nếu rỗng\r\n            isbn: formData.isbn || null,\r\n            publish_year: formData.publish_year ? Number(formData.publish_year) : null, // Đảm bảo là số hoặc null\r\n            publisher: formData.publisher || null,\r\n            category_id: categoryId, // <<< Gửi ID đã tìm được\r\n            description: formData.description || null,\r\n            quantity: Number(formData.quantity), // Đảm bảo là số\r\n            price: Number(formData.price),       // Đảm bảo là số\r\n        };\r\n\r\n        console.log('BookForm Submitting Payload:', payload); // Debug payload gửi đi\r\n        onSubmit(payload); // Gọi hàm submit của component cha với payload đã chuẩn bị\r\n    };\r\n\r\n    return (\r\n        // onSubmit được gắn vào form, error hiển thị lỗi từ props (lỗi submit API)\r\n        <form onSubmit={handleSubmit} style={{ marginBottom: '20px', padding: '15px', border: '1px solid #eee', borderRadius: '5px' }}>\r\n            <h3>{book ? 'Edit Book' : 'Add New Book'}</h3>\r\n\r\n            {/* Hiển thị lỗi validation của form này */}\r\n            {formValidationError && <p className=\"error-message\">{formValidationError}</p>}\r\n            {/* Hiển thị lỗi từ API submission (nếu có) */}\r\n            {submissionError && <p className=\"error-message\">{submissionError}</p>}\r\n\r\n            <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(200px, 1fr))', gap: '10px' }}>\r\n                <div>\r\n                    <label>Title:</label>\r\n                    <input type=\"text\" name=\"title\" value={formData.title} onChange={handleChange} required disabled={loading} />\r\n                </div>\r\n                <div>\r\n                    <label>Author:</label>\r\n                    <input type=\"text\" name=\"author\" value={formData.author} onChange={handleChange} disabled={loading} />\r\n                </div>\r\n                {/* --- Thay đổi Category Input --- */}\r\n                <div>\r\n                    <label>Category Name:</label>\r\n                    <input\r\n                        type=\"text\"\r\n                        name=\"category_name\" // <<< name là category_name\r\n                        value={formData.category_name} // <<< value là category_name\r\n                        onChange={handleChange}\r\n                        required\r\n                        disabled={loading}\r\n                        placeholder=\"Enter existing category name\"\r\n                        list=\"category-suggestions\" // <<< Liên kết với datalist\r\n                    />\r\n                    {/* Datalist để gợi ý */}\r\n                    <datalist id=\"category-suggestions\">\r\n                        {categories.map(cat => (\r\n                            <option key={cat.id} value={cat.name} />\r\n                        ))}\r\n                    </datalist>\r\n                     <small style={{display: 'block', marginTop: '3px', color: '#555'}}>\r\n                        (Type to search, must match existing)\r\n                     </small>\r\n                </div>\r\n                {/* --- Kết thúc thay đổi --- */}\r\n                 <div>\r\n                    <label>Quantity:</label>\r\n                    <input type=\"number\" name=\"quantity\" value={formData.quantity} onChange={handleChange} required min=\"0\" step=\"1\" disabled={loading} />\r\n                </div>\r\n                 <div>\r\n                    <label>Price:</label>\r\n                    <input type=\"number\" name=\"price\" value={formData.price} onChange={handleChange} required min=\"0\" step=\"0.01\" disabled={loading} />\r\n                </div>\r\n                 <div>\r\n                    <label>ISBN:</label>\r\n                    <input type=\"text\" name=\"isbn\" value={formData.isbn} onChange={handleChange} disabled={loading} />\r\n                </div>\r\n                <div>\r\n                    <label>Publish Year:</label>\r\n                    <input type=\"number\" name=\"publish_year\" value={formData.publish_year} onChange={handleChange} placeholder=\"YYYY\" disabled={loading} />\r\n                </div>\r\n                 <div>\r\n                    <label>Publisher:</label>\r\n                    <input type=\"text\" name=\"publisher\" value={formData.publisher} onChange={handleChange} disabled={loading} />\r\n                </div>\r\n                <div style={{ gridColumn: '1 / -1' }}>\r\n                    <label>Description:</label>\r\n                    <textarea name=\"description\" value={formData.description} onChange={handleChange} rows=\"3\" disabled={loading}></textarea>\r\n                </div>\r\n            </div>\r\n            <div style={{ marginTop: '15px' }}>\r\n                <button type=\"submit\" disabled={loading}>\r\n                    {loading ? 'Saving...' : (book ? 'Update Book' : 'Add Book')}\r\n                </button>\r\n                {/* Nút Cancel chỉ hiển thị khi đang edit */}\r\n                {book && <button type=\"button\" className=\"secondary\" onClick={onCancel} disabled={loading} style={{ marginLeft: '10px' }}>Cancel Edit</button>}\r\n            </div>\r\n        </form>\r\n    );\r\n}\r\n\r\nexport default BookForm;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}