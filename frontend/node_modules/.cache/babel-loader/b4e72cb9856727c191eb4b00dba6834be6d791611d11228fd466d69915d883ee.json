{"ast":null,"code":"var _jsxFileName = \"D:\\\\HK3-N2\\\\ANTOANHETHONGWEB\\\\BT5\\\\frontend\\\\src\\\\pages\\\\BookManagementPage.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useState, useEffect, useCallback } from 'react';\nimport { getBooks, getCategories, createBook, updateBook, deleteBook } from '../services/api';\nimport { useAuth } from '../contexts/AuthContext';\n\n// Component Form Sách (tách riêng để dễ quản lý)\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction BookForm({\n  book,\n  categories,\n  onSubmit,\n  onCancel,\n  loading,\n  error\n}) {\n  _s();\n  const [formData, setFormData] = useState({\n    title: '',\n    author: '',\n    isbn: '',\n    publish_year: '',\n    publisher: '',\n    category_id: '',\n    description: '',\n    quantity: 0,\n    price: 0.00,\n    ...book // Ghi đè giá trị mặc định nếu có 'book' được truyền vào (để edit)\n  });\n\n  // Cập nhật form data khi 'book' prop thay đổi (khi nhấn nút Edit)\n  useEffect(() => {\n    if (book) {\n      setFormData({\n        title: book.title || '',\n        author: book.author || '',\n        isbn: book.isbn || '',\n        publish_year: book.publish_year || '',\n        publisher: book.publisher || '',\n        category_id: book.category_id || '',\n        description: book.description || '',\n        quantity: book.quantity || 0,\n        price: book.price || 0.00\n      });\n    } else {\n      // Reset form nếu không có book (chế độ tạo mới)\n      setFormData({\n        title: '',\n        author: '',\n        isbn: '',\n        publish_year: '',\n        publisher: '',\n        category_id: '',\n        description: '',\n        quantity: 0,\n        price: 0.00\n      });\n    }\n  }, [book]);\n  const handleChange = e => {\n    const {\n      name,\n      value,\n      type\n    } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: type === 'number' ? value === '' ? '' : Number(value) : value\n    }));\n  };\n  const handleSubmit = e => {\n    e.preventDefault();\n    // Validation cơ bản\n    if (!formData.title || !formData.category_id || formData.quantity === '' || formData.price === '') {\n      alert('Please fill in Title, Category, Quantity, and Price.');\n      return;\n    }\n    if (isNaN(formData.quantity) || formData.quantity < 0) {\n      alert('Quantity must be a non-negative number.');\n      return;\n    }\n    if (isNaN(formData.price) || formData.price < 0) {\n      alert('Price must be a non-negative number.');\n      return;\n    }\n    onSubmit(formData); // Gọi hàm submit được truyền từ component cha\n  };\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: handleSubmit,\n    style: {\n      marginBottom: '20px',\n      padding: '15px',\n      border: '1px solid #eee',\n      borderRadius: '5px'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      children: book ? 'Edit Book' : 'Add New Book'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"error-message\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 23\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'grid',\n        gridTemplateColumns: 'repeat(auto-fit, minmax(200px, 1fr))',\n        gap: '10px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Title:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"title\",\n          value: formData.title,\n          onChange: handleChange,\n          required: true,\n          disabled: loading\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Author:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"author\",\n          value: formData.author,\n          onChange: handleChange,\n          disabled: loading\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Category Name:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"category_name\" // <<< name là category_name\n          ,\n          value: formData.category_name // <<< value là category_name\n          ,\n          onChange: handleChange,\n          required: true,\n          disabled: loading,\n          placeholder: \"Enter existing category name\",\n          list: \"category-suggestions\" // <<< Liên kết với datalist\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"datalist\", {\n          id: \"category-suggestions\",\n          children: categories.map(cat => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: cat.name\n          }, cat.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 29\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n          style: {\n            display: 'block',\n            marginTop: '3px',\n            color: '#555'\n          },\n          children: \"(Type to search, must match existing)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 22\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Quantity:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          name: \"quantity\",\n          value: formData.quantity,\n          onChange: handleChange,\n          required: true,\n          min: \"0\",\n          step: \"1\",\n          disabled: loading\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 18\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Price:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          name: \"price\",\n          value: formData.price,\n          onChange: handleChange,\n          required: true,\n          min: \"0\",\n          step: \"0.01\",\n          disabled: loading\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 18\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"ISBN:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"isbn\",\n          value: formData.isbn,\n          onChange: handleChange,\n          disabled: loading\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 18\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Publish Year:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          name: \"publish_year\",\n          value: formData.publish_year,\n          onChange: handleChange,\n          disabled: loading\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Publisher:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"publisher\",\n          value: formData.publisher,\n          onChange: handleChange,\n          disabled: loading\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 18\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          gridColumn: '1 / -1'\n        },\n        children: [\" \", /*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Description:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          name: \"description\",\n          value: formData.description,\n          onChange: handleChange,\n          rows: \"3\",\n          disabled: loading\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: '15px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        disabled: loading,\n        children: loading ? 'Saving...' : book ? 'Update Book' : 'Add Book'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 17\n      }, this), book && /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        className: \"secondary\",\n        onClick: onCancel,\n        disabled: loading,\n        style: {\n          marginLeft: '10px'\n        },\n        children: \"Cancel Edit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 26\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 68,\n    columnNumber: 9\n  }, this);\n}\n\n// --- Component Trang Chính ---\n_s(BookForm, \"WEld+CJBF5Fc/zhPE0rceyJraIs=\");\n_c = BookForm;\nfunction BookManagementPage() {\n  _s2();\n  const [books, setBooks] = useState([]);\n  const [categories, setCategories] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const {\n    logout\n  } = useAuth();\n\n  // State cho form\n  const [editingBook, setEditingBook] = useState(null); // null: thêm mới, object: sửa\n  const [showForm, setShowForm] = useState(false); // Ẩn/hiện form\n  const [formLoading, setFormLoading] = useState(false);\n  const [formError, setFormError] = useState('');\n\n  // State cho nút delete\n  const [deleteLoading, setDeleteLoading] = useState(null); // bookId đang được xóa\n\n  // --- Hàm Fetch dữ liệu ---\n  const fetchData = useCallback(async () => {\n    setLoading(true);\n    setError('');\n    try {\n      const [booksResponse, categoriesResponse] = await Promise.all([getBooks(), getCategories() // Gọi API lấy categories\n      ]);\n      setBooks(booksResponse.data);\n      setCategories(categoriesResponse.data);\n    } catch (err) {\n      console.error(\"Failed to fetch book management data:\", err);\n      if (err.response && (err.response.status === 401 || err.response.status === 403)) {\n        setError('Access denied or session expired. Please log in with appropriate permissions.');\n        setTimeout(logout, 3000);\n      } else {\n        setError('Failed to load book or category data.');\n      }\n    } finally {\n      setLoading(false);\n    }\n  }, [logout]);\n  useEffect(() => {\n    fetchData();\n  }, [fetchData]);\n\n  // --- Xử lý Form ---\n  const handleShowAddForm = () => {\n    setEditingBook(null); // Đảm bảo form là thêm mới\n    setShowForm(true);\n    setFormError(''); // Xóa lỗi cũ\n  };\n  const handleEditClick = book => {\n    setEditingBook(book); // Truyền dữ liệu sách cần sửa\n    setShowForm(true);\n    setFormError('');\n    window.scrollTo(0, 0); // Cuộn lên đầu trang để thấy form\n  };\n  const handleCancelEdit = () => {\n    setEditingBook(null);\n    setShowForm(false);\n    setFormError('');\n  };\n  const handleFormSubmit = async formData => {\n    setFormLoading(true);\n    setFormError('');\n    try {\n      if (editingBook) {\n        // --- Update ---\n        await updateBook(editingBook.id, formData);\n        alert('Book updated successfully!');\n      } else {\n        // --- Create ---\n        await createBook(formData);\n        alert('Book created successfully!');\n      }\n      setShowForm(false); // Ẩn form sau khi thành công\n      setEditingBook(null);\n      fetchData(); // Tải lại dữ liệu\n    } catch (err) {\n      var _err$response, _err$response$data;\n      console.error(\"Failed to save book:\", err);\n      setFormError(((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.message) || `Failed to ${editingBook ? 'update' : 'create'} book.`);\n    } finally {\n      setFormLoading(false);\n    }\n  };\n\n  // --- Xử lý Delete ---\n  const handleDeleteBook = async (bookId, bookTitle) => {\n    setDeleteLoading(bookId);\n    setError(''); // Xóa lỗi chung cũ\n    if (!window.confirm(`Are you sure you want to delete the book: \"${bookTitle}\"? This action cannot be undone.`)) {\n      setDeleteLoading(null);\n      return;\n    }\n    try {\n      await deleteBook(bookId);\n      alert(`Book \"${bookTitle}\" deleted successfully!`);\n      fetchData(); // Tải lại danh sách\n    } catch (err) {\n      console.error(\"Failed to delete book:\", err);\n      // Xử lý lỗi ràng buộc khóa ngoại\n      if (err.response && err.response.status === 409) {\n        // Giả sử backend trả 409 Conflict\n        setError(err.response.data.message || `Cannot delete book \"${bookTitle}\" because it's referenced elsewhere (e.g., borrowing slips).`);\n      } else {\n        var _err$response2, _err$response2$data;\n        setError(((_err$response2 = err.response) === null || _err$response2 === void 0 ? void 0 : (_err$response2$data = _err$response2.data) === null || _err$response2$data === void 0 ? void 0 : _err$response2$data.message) || `Failed to delete book \"${bookTitle}\".`);\n      }\n    } finally {\n      setDeleteLoading(null);\n    }\n  };\n\n  // --- UI Rendering ---\n  if (loading) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"loading\",\n    children: \"Loading Book Data...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 257,\n    columnNumber: 25\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Book Management\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 261,\n      columnNumber: 13\n    }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"error-message\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 262,\n      columnNumber: 23\n    }, this), !showForm && /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleShowAddForm,\n      style: {\n        marginBottom: '20px'\n      },\n      children: \"+ Add New Book\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 266,\n      columnNumber: 18\n    }, this), showForm && /*#__PURE__*/_jsxDEV(BookForm, {\n      book: editingBook,\n      categories: categories,\n      onSubmit: handleFormSubmit,\n      onCancel: handleCancelEdit,\n      loading: formLoading,\n      error: formError\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 271,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Existing Books\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 283,\n      columnNumber: 13\n    }, this), books.length === 0 && !loading ? /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"No books found.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 285,\n      columnNumber: 17\n    }, this) : /*#__PURE__*/_jsxDEV(\"table\", {\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"ID\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 290,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Title\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 291,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Author\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 292,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Category\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 293,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Qty\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 294,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Price\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 295,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Actions\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 296,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 289,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 288,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: books.map(book => /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            children: book.id\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 302,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: book.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 303,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: book.author || 'N/A'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 304,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: book.category_name || 'N/A'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 305,\n            columnNumber: 33\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"td\", {\n            children: book.quantity\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 306,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: book.price != null ? `$${Number(book.price).toFixed(2)}` : 'N/A'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 307,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"secondary\",\n              onClick: () => handleEditClick(book),\n              disabled: deleteLoading === book.id || formLoading,\n              style: {\n                marginRight: '5px'\n              },\n              children: \"Edit\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 309,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"danger\",\n              onClick: () => handleDeleteBook(book.id, book.title),\n              disabled: deleteLoading === book.id || formLoading,\n              children: deleteLoading === book.id ? 'Deleting...' : 'Delete'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 317,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 308,\n            columnNumber: 33\n          }, this)]\n        }, book.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 301,\n          columnNumber: 29\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 299,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 287,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"style\", {\n      jsx: true,\n      children: `\n              table { width: 100%; border-collapse: collapse; margin-top: 15px; }\n              th, td { border: 1px solid #ddd; padding: 8px; text-align: left; vertical-align: middle;}\n              th { background-color: #f2f2f2; }\n              tr:nth-child(even) { background-color: #f9f9f9; }\n              td button { padding: 5px 10px; font-size: 0.9em;}\n              textarea { width: calc(100% - 12px); padding: 5px; border: 1px solid #ccc; border-radius: 4px; font-family: inherit; }\n              form label { display: block; margin-bottom: 3px; font-weight: 500; }\n              form input, form select { width: calc(100% - 22px); padding: 8px; border: 1px solid #ccc; border-radius: 4px;}\n            `\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 331,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 260,\n    columnNumber: 9\n  }, this);\n}\n_s2(BookManagementPage, \"Wcy+TwUSv+XVxQzqLcj/SsgTdU0=\", false, function () {\n  return [useAuth];\n});\n_c2 = BookManagementPage;\nexport default BookManagementPage;\nvar _c, _c2;\n$RefreshReg$(_c, \"BookForm\");\n$RefreshReg$(_c2, \"BookManagementPage\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","getBooks","getCategories","createBook","updateBook","deleteBook","useAuth","jsxDEV","_jsxDEV","BookForm","book","categories","onSubmit","onCancel","loading","error","_s","formData","setFormData","title","author","isbn","publish_year","publisher","category_id","description","quantity","price","handleChange","e","name","value","type","target","prev","Number","handleSubmit","preventDefault","alert","isNaN","style","marginBottom","padding","border","borderRadius","children","fileName","_jsxFileName","lineNumber","columnNumber","className","display","gridTemplateColumns","gap","onChange","required","disabled","category_name","placeholder","list","id","map","cat","marginTop","color","min","step","gridColumn","rows","onClick","marginLeft","_c","BookManagementPage","_s2","books","setBooks","setCategories","setLoading","setError","logout","editingBook","setEditingBook","showForm","setShowForm","formLoading","setFormLoading","formError","setFormError","deleteLoading","setDeleteLoading","fetchData","booksResponse","categoriesResponse","Promise","all","data","err","console","response","status","setTimeout","handleShowAddForm","handleEditClick","window","scrollTo","handleCancelEdit","handleFormSubmit","_err$response","_err$response$data","message","handleDeleteBook","bookId","bookTitle","confirm","_err$response2","_err$response2$data","length","toFixed","marginRight","jsx","_c2","$RefreshReg$"],"sources":["D:/HK3-N2/ANTOANHETHONGWEB/BT5/frontend/src/pages/BookManagementPage.js"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\r\nimport { getBooks, getCategories, createBook, updateBook, deleteBook } from '../services/api';\r\nimport { useAuth } from '../contexts/AuthContext';\r\n\r\n// Component Form Sách (tách riêng để dễ quản lý)\r\nfunction BookForm({ book, categories, onSubmit, onCancel, loading, error }) {\r\n    const [formData, setFormData] = useState({\r\n        title: '',\r\n        author: '',\r\n        isbn: '',\r\n        publish_year: '',\r\n        publisher: '',\r\n        category_id: '',\r\n        description: '',\r\n        quantity: 0,\r\n        price: 0.00,\r\n        ...book // Ghi đè giá trị mặc định nếu có 'book' được truyền vào (để edit)\r\n    });\r\n\r\n    // Cập nhật form data khi 'book' prop thay đổi (khi nhấn nút Edit)\r\n    useEffect(() => {\r\n        if (book) {\r\n            setFormData({\r\n                title: book.title || '',\r\n                author: book.author || '',\r\n                isbn: book.isbn || '',\r\n                publish_year: book.publish_year || '',\r\n                publisher: book.publisher || '',\r\n                category_id: book.category_id || '',\r\n                description: book.description || '',\r\n                quantity: book.quantity || 0,\r\n                price: book.price || 0.00,\r\n            });\r\n        } else {\r\n            // Reset form nếu không có book (chế độ tạo mới)\r\n             setFormData({ title: '', author: '', isbn: '', publish_year: '', publisher: '', category_id: '', description: '', quantity: 0, price: 0.00 });\r\n        }\r\n    }, [book]);\r\n\r\n    const handleChange = (e) => {\r\n        const { name, value, type } = e.target;\r\n        setFormData(prev => ({\r\n            ...prev,\r\n            [name]: type === 'number' ? (value === '' ? '' : Number(value)) : value\r\n        }));\r\n    };\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        // Validation cơ bản\r\n        if (!formData.title || !formData.category_id || formData.quantity === '' || formData.price === '') {\r\n            alert('Please fill in Title, Category, Quantity, and Price.');\r\n            return;\r\n        }\r\n         if (isNaN(formData.quantity) || formData.quantity < 0) {\r\n             alert('Quantity must be a non-negative number.');\r\n             return;\r\n         }\r\n          if (isNaN(formData.price) || formData.price < 0) {\r\n             alert('Price must be a non-negative number.');\r\n             return;\r\n         }\r\n\r\n        onSubmit(formData); // Gọi hàm submit được truyền từ component cha\r\n    };\r\n\r\n    return (\r\n        <form onSubmit={handleSubmit} style={{ marginBottom: '20px', padding: '15px', border: '1px solid #eee', borderRadius: '5px' }}>\r\n            <h3>{book ? 'Edit Book' : 'Add New Book'}</h3>\r\n            {error && <p className=\"error-message\">{error}</p>}\r\n            <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(200px, 1fr))', gap: '10px' }}>\r\n                <div>\r\n                    <label>Title:</label>\r\n                    <input type=\"text\" name=\"title\" value={formData.title} onChange={handleChange} required disabled={loading} />\r\n                </div>\r\n                <div>\r\n                    <label>Author:</label>\r\n                    <input type=\"text\" name=\"author\" value={formData.author} onChange={handleChange} disabled={loading} />\r\n                </div>\r\n                {/* --- Thay đổi Category Input --- */}\r\n                <div>\r\n                    <label>Category Name:</label>\r\n                    <input\r\n                        type=\"text\"\r\n                        name=\"category_name\" // <<< name là category_name\r\n                        value={formData.category_name} // <<< value là category_name\r\n                        onChange={handleChange}\r\n                        required\r\n                        disabled={loading}\r\n                        placeholder=\"Enter existing category name\"\r\n                        list=\"category-suggestions\" // <<< Liên kết với datalist\r\n                    />\r\n                    {/* Datalist để gợi ý */}\r\n                    <datalist id=\"category-suggestions\">\r\n                        {categories.map(cat => (\r\n                            <option key={cat.id} value={cat.name} />\r\n                        ))}\r\n                    </datalist>\r\n                     <small style={{display: 'block', marginTop: '3px', color: '#555'}}>\r\n                        (Type to search, must match existing)\r\n                     </small>\r\n                </div>\r\n                {/* --- Kết thúc thay đổi --- */}\r\n                 <div>\r\n                    <label>Quantity:</label>\r\n                    <input type=\"number\" name=\"quantity\" value={formData.quantity} onChange={handleChange} required min=\"0\" step=\"1\" disabled={loading} />\r\n                </div>\r\n                 <div>\r\n                    <label>Price:</label>\r\n                    <input type=\"number\" name=\"price\" value={formData.price} onChange={handleChange} required min=\"0\" step=\"0.01\" disabled={loading} />\r\n                </div>\r\n                 <div>\r\n                    <label>ISBN:</label>\r\n                    <input type=\"text\" name=\"isbn\" value={formData.isbn} onChange={handleChange} disabled={loading} />\r\n                </div>\r\n                <div>\r\n                    <label>Publish Year:</label>\r\n                    <input type=\"number\" name=\"publish_year\" value={formData.publish_year} onChange={handleChange} disabled={loading} />\r\n                </div>\r\n                 <div>\r\n                    <label>Publisher:</label>\r\n                    <input type=\"text\" name=\"publisher\" value={formData.publisher} onChange={handleChange} disabled={loading} />\r\n                </div>\r\n                <div style={{ gridColumn: '1 / -1' }}> {/* Description chiếm cả hàng */}\r\n                    <label>Description:</label>\r\n                    <textarea name=\"description\" value={formData.description} onChange={handleChange} rows=\"3\" disabled={loading}></textarea>\r\n                </div>\r\n            </div>\r\n            <div style={{ marginTop: '15px' }}>\r\n                <button type=\"submit\" disabled={loading}>\r\n                    {loading ? 'Saving...' : (book ? 'Update Book' : 'Add Book')}\r\n                </button>\r\n                {book && <button type=\"button\" className=\"secondary\" onClick={onCancel} disabled={loading} style={{ marginLeft: '10px' }}>Cancel Edit</button>}\r\n            </div>\r\n        </form>\r\n    );\r\n}\r\n\r\n\r\n// --- Component Trang Chính ---\r\nfunction BookManagementPage() {\r\n    const [books, setBooks] = useState([]);\r\n    const [categories, setCategories] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [error, setError] = useState('');\r\n    const { logout } = useAuth();\r\n\r\n    // State cho form\r\n    const [editingBook, setEditingBook] = useState(null); // null: thêm mới, object: sửa\r\n    const [showForm, setShowForm] = useState(false); // Ẩn/hiện form\r\n    const [formLoading, setFormLoading] = useState(false);\r\n    const [formError, setFormError] = useState('');\r\n\r\n    // State cho nút delete\r\n    const [deleteLoading, setDeleteLoading] = useState(null); // bookId đang được xóa\r\n\r\n\r\n    // --- Hàm Fetch dữ liệu ---\r\n    const fetchData = useCallback(async () => {\r\n        setLoading(true);\r\n        setError('');\r\n        try {\r\n            const [booksResponse, categoriesResponse] = await Promise.all([\r\n                getBooks(),\r\n                getCategories() // Gọi API lấy categories\r\n            ]);\r\n            setBooks(booksResponse.data);\r\n            setCategories(categoriesResponse.data);\r\n        } catch (err) {\r\n            console.error(\"Failed to fetch book management data:\", err);\r\n             if (err.response && (err.response.status === 401 || err.response.status === 403)) {\r\n                setError('Access denied or session expired. Please log in with appropriate permissions.');\r\n                setTimeout(logout, 3000);\r\n             } else {\r\n                 setError('Failed to load book or category data.');\r\n             }\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    }, [logout]);\r\n\r\n    useEffect(() => {\r\n        fetchData();\r\n    }, [fetchData]);\r\n\r\n    // --- Xử lý Form ---\r\n    const handleShowAddForm = () => {\r\n        setEditingBook(null); // Đảm bảo form là thêm mới\r\n        setShowForm(true);\r\n        setFormError(''); // Xóa lỗi cũ\r\n    };\r\n\r\n    const handleEditClick = (book) => {\r\n        setEditingBook(book); // Truyền dữ liệu sách cần sửa\r\n        setShowForm(true);\r\n        setFormError('');\r\n        window.scrollTo(0, 0); // Cuộn lên đầu trang để thấy form\r\n    };\r\n\r\n    const handleCancelEdit = () => {\r\n        setEditingBook(null);\r\n        setShowForm(false);\r\n        setFormError('');\r\n    };\r\n\r\n    const handleFormSubmit = async (formData) => {\r\n        setFormLoading(true);\r\n        setFormError('');\r\n        try {\r\n            if (editingBook) {\r\n                // --- Update ---\r\n                await updateBook(editingBook.id, formData);\r\n                alert('Book updated successfully!');\r\n            } else {\r\n                // --- Create ---\r\n                await createBook(formData);\r\n                alert('Book created successfully!');\r\n            }\r\n            setShowForm(false); // Ẩn form sau khi thành công\r\n            setEditingBook(null);\r\n            fetchData(); // Tải lại dữ liệu\r\n        } catch (err) {\r\n            console.error(\"Failed to save book:\", err);\r\n            setFormError(err.response?.data?.message || `Failed to ${editingBook ? 'update' : 'create'} book.`);\r\n        } finally {\r\n            setFormLoading(false);\r\n        }\r\n    };\r\n\r\n     // --- Xử lý Delete ---\r\n    const handleDeleteBook = async (bookId, bookTitle) => {\r\n        setDeleteLoading(bookId);\r\n        setError(''); // Xóa lỗi chung cũ\r\n        if (!window.confirm(`Are you sure you want to delete the book: \"${bookTitle}\"? This action cannot be undone.`)) {\r\n            setDeleteLoading(null);\r\n            return;\r\n        }\r\n        try {\r\n            await deleteBook(bookId);\r\n            alert(`Book \"${bookTitle}\" deleted successfully!`);\r\n            fetchData(); // Tải lại danh sách\r\n        } catch (err) {\r\n             console.error(\"Failed to delete book:\", err);\r\n             // Xử lý lỗi ràng buộc khóa ngoại\r\n             if (err.response && err.response.status === 409) { // Giả sử backend trả 409 Conflict\r\n                  setError(err.response.data.message || `Cannot delete book \"${bookTitle}\" because it's referenced elsewhere (e.g., borrowing slips).`);\r\n             } else {\r\n                  setError(err.response?.data?.message || `Failed to delete book \"${bookTitle}\".`);\r\n             }\r\n        } finally {\r\n            setDeleteLoading(null);\r\n        }\r\n    };\r\n\r\n\r\n    // --- UI Rendering ---\r\n    if (loading) return <div className=\"loading\">Loading Book Data...</div>;\r\n\r\n    return (\r\n        <div className=\"container\">\r\n            <h2>Book Management</h2>\r\n            {error && <p className=\"error-message\">{error}</p>}\r\n\r\n            {/* Nút để mở form thêm mới */}\r\n            {!showForm && (\r\n                 <button onClick={handleShowAddForm} style={{ marginBottom: '20px' }}>+ Add New Book</button>\r\n            )}\r\n\r\n            {/* Form Thêm/Sửa */}\r\n            {showForm && (\r\n                <BookForm\r\n                    book={editingBook}\r\n                    categories={categories}\r\n                    onSubmit={handleFormSubmit}\r\n                    onCancel={handleCancelEdit}\r\n                    loading={formLoading}\r\n                    error={formError}\r\n                 />\r\n            )}\r\n\r\n\r\n            {/* --- Danh sách Sách --- */}\r\n            <h3>Existing Books</h3>\r\n            {books.length === 0 && !loading ? (\r\n                <p>No books found.</p>\r\n            ) : (\r\n                <table>\r\n                    <thead>\r\n                        <tr>\r\n                            <th>ID</th>\r\n                            <th>Title</th>\r\n                            <th>Author</th>\r\n                            <th>Category</th>\r\n                            <th>Qty</th>\r\n                            <th>Price</th>\r\n                            <th>Actions</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {books.map(book => (\r\n                            <tr key={book.id}>\r\n                                <td>{book.id}</td>\r\n                                <td>{book.title}</td>\r\n                                <td>{book.author || 'N/A'}</td>\r\n                                <td>{book.category_name || 'N/A'}</td> {/* Giả sử API trả về category_name */}\r\n                                <td>{book.quantity}</td>\r\n                                <td>{book.price != null ? `$${Number(book.price).toFixed(2)}` : 'N/A'}</td>\r\n                                <td>\r\n                                    <button\r\n                                        className=\"secondary\"\r\n                                        onClick={() => handleEditClick(book)}\r\n                                        disabled={deleteLoading === book.id || formLoading}\r\n                                        style={{ marginRight: '5px' }}\r\n                                    >\r\n                                        Edit\r\n                                    </button>\r\n                                    <button\r\n                                        className=\"danger\"\r\n                                        onClick={() => handleDeleteBook(book.id, book.title)}\r\n                                        disabled={deleteLoading === book.id || formLoading}\r\n                                    >\r\n                                        {deleteLoading === book.id ? 'Deleting...' : 'Delete'}\r\n                                    </button>\r\n                                </td>\r\n                            </tr>\r\n                        ))}\r\n                    </tbody>\r\n                </table>\r\n            )}\r\n            {/* Style cho table (tương tự trang Admin User) */}\r\n            <style jsx>{`\r\n              table { width: 100%; border-collapse: collapse; margin-top: 15px; }\r\n              th, td { border: 1px solid #ddd; padding: 8px; text-align: left; vertical-align: middle;}\r\n              th { background-color: #f2f2f2; }\r\n              tr:nth-child(even) { background-color: #f9f9f9; }\r\n              td button { padding: 5px 10px; font-size: 0.9em;}\r\n              textarea { width: calc(100% - 12px); padding: 5px; border: 1px solid #ccc; border-radius: 4px; font-family: inherit; }\r\n              form label { display: block; margin-bottom: 3px; font-weight: 500; }\r\n              form input, form select { width: calc(100% - 22px); padding: 8px; border: 1px solid #ccc; border-radius: 4px;}\r\n            `}</style>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default BookManagementPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}